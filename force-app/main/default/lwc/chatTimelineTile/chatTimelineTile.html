<template>
    <template if:true={timelinePost}>
        <div class={timelinePost.timelineClassName__c} onmouseover={handleHover} onmouseout={handleNoHover}>
            <lightning-tile label={timelinePost.OwnerName__c} type="media" href={timelinePost.Owner_URL__c}>
                <div slot="media">
                    <lightning-avatar slot="media" src={smallPhotoUrl} fallback-icon-name="standard:user">
                    </lightning-avatar>
                </div>
                <lightning-formatted-rich-text value={timelinePost.Message__c}>
                </lightning-formatted-rich-text><br>
                <template if:true={followUpTask}>
                    <div class="slds-grid">
                        <div class="slds-col slds-size_1-of-1 animateFade">
                            <lightning-card title="Follow Up Task" class="slds-card_boundary">
                                <div class="slds-grid slds-wrap">
                                    <div class="slds-col slds-size_1-of-1">
                                        <!-- subject -->
                                        <p class="slds-truncate">{taskSubject}</p>
                                    </div>
                                    <div class="slds-col slds-size_1-of-3">
                                    <!-- Status -->
                                    {taskStatus}
                                    </div>
                                    <div class="slds-col slds-size_1-of-3">
                                    <!-- DueDate -->
                                    <lightning-formatted-date-time value={taskDate} ></lightning-formatted-date-time>
                                    </div>
                                    <div class="slds-col slds-size_1-of-3">
                                        <!-- assigned to -->
                                        <p class="slds-truncate">{taskOwner}</p>
                                    </div>
                                    <div class="slds-col slds-size_1-of-1">
                                    <!-- comments -->
                                    <p class="lineClamper">{taskComments}</p>
                                    </div>
                                </div>
                            </lightning-card>
                        </div>
                    </div>
                </template>
                <template if:true={timelinePost.DocumentId__c}>
                    <div class="slds-p-vertical_x-small slds-p-left_x-small animateFade">
                        <lightning-button icon-name="utility:preview" variant="Neutral" onclick={openPreview}
                            label="Preview File" icon-position="right" size="small"></lightning-button>
                    </div>
                </template>
                <template if:true={timelinePost.CloseMsg__c}>
                    <div class="slds-p-vertical_x-small slds-p-left_x-small animateFade">
                        <lightning-button icon-name="utility:check" variant="Neutral" onclick={closeTicket}
                            label="Close Ticket" icon-position="right" size="small"></lightning-button>
                    </div>
                </template>
                <div class="slds-grid timeClass slds-hide animateFade" data-id="hoverSelect">
                    <div class="slds-col slds-size_7-of-12">
                        <lightning-formatted-date-time value={timelinePost.CreatedDate} year="numeric" month="short"
                            day="2-digit" weekday="long" hour="2-digit" minute="2-digit" hour12="true">
                        </lightning-formatted-date-time>
                    </div>
                    <div class="slds-col slds-size_4-of-12 slds-text-align_right slds-p-right_xxx-small slds-truncate"
                        data-id="seenSelect">
                        <p><a onclick={openSeenBy}>Seen By</a></p>
                    </div>
                </div>
            </lightning-tile>
        </div>
    </template>
</template>